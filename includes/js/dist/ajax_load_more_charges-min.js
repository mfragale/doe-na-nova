jQuery(document).ready(function(t){console.log("HELLO doenanova_load_more_charges"),console.log(phpVars),t("#loadmore_recent_transactions-btn").click(function(a){console.log("Load more button clicked"),dataSend={},dataSend.action=phpVars["wp-action-doenanova-load-more-charges"],dataSend.last_charge=t("#last_charge").val(),t(".loadmore_recent_transactions-message").hide();var e=t("#loadmore_recent_transactions-btn").html();t("#loadmore_recent_transactions-btn").attr("disabled","disabled").addClass("loading").html('<i class="fas fa-circle-notch fa-spin"></i>'),t.ajax({type:"post",url:phpVars["checkout-url"],data:dataSend,dataType:"json"}).done(function(a,s){console.log("$.ajax.done"),console.log("data: ",a),console.log("status: ",s),t("#loadmore_recent_transactions-btn").removeAttr("disabled").removeClass("loading").html(e),a.success?(t.each(a,function(a,e){"success"!==a&&"has_more_charges"!==a&&(t("#last_charge").attr("value",e.charge_id),t("#transacoes table tbody").append(function(){var t=e.charge_id,a=e.charge_status,s=e.charge_purpose,n=e.charge_frequency,r=e.charge_brand.toLowerCase(),o=e.charge_last_4,c=e.charge_amount,l=e.charge_date,d=new Date(1e3*l),i=new Array;i[0]=phpVars.jan,i[1]=phpVars.feb,i[2]=phpVars.mar,i[3]=phpVars.apr,i[4]=phpVars.may,i[5]=phpVars.jun,i[6]=phpVars.jul,i[7]=phpVars.aug,i[8]=phpVars.sep,i[9]=phpVars.oct,i[10]=phpVars.nov,i[11]=phpVars.dec;i[d.getMonth()];var h=("0"+(d.getMonth()+1)).slice(-2),p=d.getFullYear().toString().substr(-2),_=("0"+d.getDate()).slice(-2);if("succeeded"==a)var g="text-success",m="Succeeded";else if("pending"==a)g="text-warning",m="Pending";else if("failed"==a)g="text-danger",m="Failed";if("week"==n)var u=phpVars.week;else if("month"==n)u=phpVars.month;else if("year"==n)u=phpVars.year;else u="";return'\t\t\n\t\t\t\t\t\t\t\t<tr class="'+m+" "+t+'">\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<div>'+s+"</div>\n\t\t\t\t\t\t\t\t\t\t<div><small>"+u+'</small></div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td><i class="fab fa-cc-'+r+'"></i> '+o+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+_+"/"+h+"/"+p+'</td>\n\t\t\t\t\t\t\t\t\t<td class="text-end '+g+'"> '+phpVars.doe_na_nova_currency_symbol_js+c+",00 </td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t"}),t(".new_charges").hide(),t(".new_charges").fadeIn(800).removeClass("new_charges"))}),a.has_more_charges||t("#loadmore_recent_transactions-btn").hide()):t("#loadmore_recent_transactions-fail-message").fadeIn(800)}).fail(function(a,s,n){console.log("$.ajax.fail"),console.log("data: ",a),console.log("status: ",s),console.log("error: ",n),t("#loadmore_recent_transactions-btn").removeAttr("disabled").removeClass("loading").html(e),t("#loadmore_recent_transactions-fail-message").fadeIn(800)}),a.preventDefault()})});